{"mappings":"yhBAwBIA,EAtByBC,EADzBC,EAAA,UACoCC,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAON,EAAUO,OAAQC,EAAOR,EAAUS,iBAAkBC,EAAiBV,EAAUU,gBAAkB,SAASC,EAAQC,GAClI,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,E,EAKtB,MAAO,wDACHJ,EAAOF,EAAkB,MAAVL,EAAiBS,EAAeT,EAAO,QAAUA,EAASA,IACzE,mHACWO,EAAJF,EAAgF,OAAvED,EAAoB,MAAVJ,EAAiBS,EAAeT,EAAO,QAAUA,GAAmBS,EAAeL,EAAO,QAAUA,EAASJ,IACvI,oIACcO,EAAPF,EAAgF,OAAvED,EAAoB,MAAVJ,EAAiBS,EAAeT,EAAO,QAAUA,GAAmBS,EAAeL,EAAO,cAAgBA,EAASJ,IAC7I,sHACYO,EAALF,EAA+E,OAAtED,EAAoB,MAAVJ,EAAiBS,EAAeT,EAAO,OAASA,GAAmBS,EAAeL,EAAO,WAAaA,EAASJ,IACzI,mGACWO,EAAJF,EAA+E,OAAtED,EAAoB,MAAVJ,EAAiBS,EAAeT,EAAO,OAASA,GAAmBS,EAAeL,EAAO,UAAYA,EAASJ,IACxI,yFACAO,EAAOF,EAAkF,OAAzED,EAAoB,MAAVJ,EAAiBS,EAAeT,EAAO,UAAYA,GAAmBS,EAAeL,EAAO,OAASA,EAASJ,IACxI,mC,EACJgB,SAAU,ICrBZ,MCGMC,EAAgBC,SAASC,cAAc,mBACvCC,EAAmBF,SAASC,cAAc,qBAE1CE,EAAkCC,IACtC,MAAMC,EAAO,IAAIC,KAAe,IAAVF,GAEtB,MAAO,GAAGC,EAAKE,cAAcF,EAAKG,cAAc,EAqBlDT,EAAcU,iBAAiB,UAlBHC,IAC1BA,EAAMC,iBAEN,MAAMC,EAAcF,EAAMG,OAAOC,SAASC,aAAaC,MAAMC,ODZzB,IAAAC,KCcbN,EDbvBO,MAAM,qDAAiBD,4CAA6BE,MAAKC,IACvD,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAMF,EAAIG,QAGtB,OAAOH,EAAII,MAAM,KCQiBL,MAAKnC,IACvCA,EAAKyC,IAAIC,OAASxB,EAAgClB,EAAKyC,IAAIC,QAE3D1C,EAAKL,KAAKgD,MAAQ3C,EAAKL,KAAKgD,KAAO,QAAQC,QAAQ,GAEnD5C,EAAKL,KAAKkD,YAAc7C,EAAKL,KAAKkD,WAAa,QAAQD,QAAQ,GAE/D5C,EAAKyC,IAAIK,QAAU5B,EAAgClB,EAAKyC,IAAIK,SAE5D7B,EAAiB8B,UAAYzD,EAAoBU,EAAK,GACtD","sources":["src/templates/weather-card.hbs","src/js/weather-api.js","src/js/weather.js"],"sourcesContent":["<div class='weather__card'>\n  <h2 class='city-name'>{{this.name}}</h2>\n  <ul class='weather-info list'>\n    <li class='weather-info-item'>\n      <p class='temp'>Температура: {{this.main.temp}}<sup>&#176;</sup></p>\n    </li>\n    <li class='weather-info-item'>\n      <p class='feels-like-temp'>Чувствуется как:\n        {{this.main.feels_like}}<sup>&#176;</sup></p>\n    </li>\n    <li class='weather-info-item'>\n      <p class='sunrise-time'>Восход солнца: {{this.sys.sunrise}}</p>\n    </li>\n    <li class='weather-info-item'>\n      <p class='sunset-time'>Заход солнца: {{this.sys.sunset}}</p>\n    </li>\n    <li class='weather-info-item'>\n      <p class='clouds'>Облаков: {{this.clouds.all}}%</p>\n    </li>\n  </ul>\n</div>","'use strict';\n\nconst BASE_URL = 'https://api.openweathermap.org/data/2.5/weather';\nconst API_KEY = '95632b02f9162f375a368971925f5209';\n\nexport const fetchWeatherByCityName = cityName =>\n  fetch(`${BASE_URL}?q=${cityName}&appid=${API_KEY}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n\n    return res.json();\n  });\n","'use strict';\nimport weatherCardTemplate from '../templates/weather-card.hbs';\n\nimport { fetchWeatherByCityName } from './weather-api';\n\nconst weatherFormEl = document.querySelector('.js-search-form');\nconst weatherWrapperEl = document.querySelector('.weather__wrapper');\n\nconst convertSecondsToHoursAndMinutes = seconds => {\n  const date = new Date(seconds * 1000);\n\n  return `${date.getHours()}:${date.getMinutes()}`;\n};\n\nconst handleSearchWeather = event => {\n  event.preventDefault();\n\n  const searchQuery = event.target.elements.user_country.value.trim();\n\n  fetchWeatherByCityName(searchQuery).then(data => {\n    data.sys.sunset = convertSecondsToHoursAndMinutes(data.sys.sunset);\n\n    data.main.temp = (data.main.temp - 273.15).toFixed(1);\n\n    data.main.feels_like = (data.main.feels_like - 273.15).toFixed(1);\n\n    data.sys.sunrise = convertSecondsToHoursAndMinutes(data.sys.sunrise);\n\n    weatherWrapperEl.innerHTML = weatherCardTemplate(data);\n  });\n};\n\nweatherFormEl.addEventListener('submit', handleSearchWeather);\n"],"names":["$7f5be03bccce0dfa$export$2e2bcd8739ae039","$parcel$interopDefault","parcelRequire","template","compiler","main","container","depth0","helpers","partials","data","stack1","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","useData","$83ee39fa453a4c23$var$weatherFormEl","document","querySelector","$83ee39fa453a4c23$var$weatherWrapperEl","$83ee39fa453a4c23$var$convertSecondsToHoursAndMinutes","seconds","date","Date","getHours","getMinutes","addEventListener","event","preventDefault","searchQuery","target","elements","user_country","value","trim","cityName","fetch","then","res","ok","Error","status","json","sys","sunset","temp","toFixed","feels_like","sunrise","innerHTML"],"version":3,"file":"weather.c4297383.js.map"}