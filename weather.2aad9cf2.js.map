{"mappings":"iiBACI,IAuBAA,EAtByBC,EADzBC,EAAA,UACoCC,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAON,EAAUO,OAAQC,EAAOR,EAAUS,iBAAkBC,EAAiBV,EAAUU,gBAAkB,SAASC,EAAQC,GAClI,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,E,EAKtB,MAAO,wDACHJ,EAAOF,EAAkB,MAAVL,EAAiBS,EAAeT,EAAO,QAAUA,EAASA,IACzE,mHACWO,EAAJF,EAAgF,OAAvED,EAAoB,MAAVJ,EAAiBS,EAAeT,EAAO,QAAUA,GAAmBS,EAAeL,EAAO,QAAUA,EAASJ,IACvI,oIACcO,EAAPF,EAAgF,OAAvED,EAAoB,MAAVJ,EAAiBS,EAAeT,EAAO,QAAUA,GAAmBS,EAAeL,EAAO,cAAgBA,EAASJ,IAC7I,sHACYO,EAALF,EAA+E,OAAtED,EAAoB,MAAVJ,EAAiBS,EAAeT,EAAO,OAASA,GAAmBS,EAAeL,EAAO,WAAaA,EAASJ,IACzI,mGACWO,EAAJF,EAA+E,OAAtED,EAAoB,MAAVJ,EAAiBS,EAAeT,EAAO,OAASA,GAAmBS,EAAeL,EAAO,UAAYA,EAASJ,IACxI,yFACAO,EAAOF,EAAkF,OAAzED,EAAoB,MAAVJ,EAAiBS,EAAeT,EAAO,UAAYA,GAAmBS,EAAeL,EAAO,OAASA,EAASJ,IACxI,mC,EACJgB,SAAU,IClBNC,EAAgBC,SAASC,cAAc,mBACvCC,EAAmBF,SAASC,cAAc,qBAE1CE,EAAkC,SAAAC,GACtC,IAAMC,EAAO,IAAIC,KAAe,IAAVF,GAEtB,MAAO,GAAsBG,OAAnBF,EAAKG,WAAW,KAAqBD,OAAlBF,EAAKI,a,EAqBpCV,EAAcW,iBAAiB,UAlBH,SAAAC,GAC1BA,EAAMC,iBAEN,ICZoCC,EDY9BC,EAAcH,EAAMI,OAAOC,SAASC,aAAaC,MAAMC,QCZzBN,EDcbC,ECbvBM,MAAM,GAAiBb,OAJR,kDAIG,OAAuBA,OAAlBM,EAAS,WAAiBN,OAHnC,qCAGsCc,MAAK,SAAAC,GACvD,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAMF,EAAIG,QAGtB,OAAOH,EAAII,M,KDQuBL,MAAK,SAAApC,GACvCA,EAAK0C,IAAIC,OAASzB,EAAgClB,EAAK0C,IAAIC,QAE3D3C,EAAKL,KAAKiD,MAAQ5C,EAAKL,KAAKiD,KAAO,QAAQC,QAAQ,GAEnD7C,EAAKL,KAAKmD,YAAc9C,EAAKL,KAAKmD,WAAa,QAAQD,QAAQ,GAE/D7C,EAAK0C,IAAIK,QAAU7B,EAAgClB,EAAK0C,IAAIK,SAE5D9B,EAAiB+B,UAAY1D,EAAoBU,E","sources":["src/templates/weather-card.hbs","src/js/weather.js","src/js/weather-api.js"],"sourcesContent":["<div class='weather__card'>\n  <h2 class='city-name'>{{this.name}}</h2>\n  <ul class='weather-info list'>\n    <li class='weather-info-item'>\n      <p class='temp'>Температура: {{this.main.temp}}<sup>&#176;</sup></p>\n    </li>\n    <li class='weather-info-item'>\n      <p class='feels-like-temp'>Чувствуется как:\n        {{this.main.feels_like}}<sup>&#176;</sup></p>\n    </li>\n    <li class='weather-info-item'>\n      <p class='sunrise-time'>Восход солнца: {{this.sys.sunrise}}</p>\n    </li>\n    <li class='weather-info-item'>\n      <p class='sunset-time'>Заход солнца: {{this.sys.sunset}}</p>\n    </li>\n    <li class='weather-info-item'>\n      <p class='clouds'>Облаков: {{this.clouds.all}}%</p>\n    </li>\n  </ul>\n</div>","'use strict';\nimport weatherCardTemplate from '../templates/weather-card.hbs';\n\nimport { fetchWeatherByCityName } from './weather-api';\n\nconst weatherFormEl = document.querySelector('.js-search-form');\nconst weatherWrapperEl = document.querySelector('.weather__wrapper');\n\nconst convertSecondsToHoursAndMinutes = seconds => {\n  const date = new Date(seconds * 1000);\n\n  return `${date.getHours()}:${date.getMinutes()}`;\n};\n\nconst handleSearchWeather = event => {\n  event.preventDefault();\n\n  const searchQuery = event.target.elements.user_country.value.trim();\n\n  fetchWeatherByCityName(searchQuery).then(data => {\n    data.sys.sunset = convertSecondsToHoursAndMinutes(data.sys.sunset);\n\n    data.main.temp = (data.main.temp - 273.15).toFixed(1);\n\n    data.main.feels_like = (data.main.feels_like - 273.15).toFixed(1);\n\n    data.sys.sunrise = convertSecondsToHoursAndMinutes(data.sys.sunrise);\n\n    weatherWrapperEl.innerHTML = weatherCardTemplate(data);\n  });\n};\n\nweatherFormEl.addEventListener('submit', handleSearchWeather);\n","'use strict';\n\nconst BASE_URL = 'https://api.openweathermap.org/data/2.5/weather';\nconst API_KEY = '95632b02f9162f375a368971925f5209';\n\nexport const fetchWeatherByCityName = cityName =>\n  fetch(`${BASE_URL}?q=${cityName}&appid=${API_KEY}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n\n    return res.json();\n  });\n"],"names":["$5e65010cca4db3f0$export$2e2bcd8739ae039","$parcel$interopDefault","parcelRequire","template","compiler","main","container","depth0","helpers","partials","data","stack1","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","useData","$b7c37e8f14632f7d$var$weatherFormEl","document","querySelector","$b7c37e8f14632f7d$var$weatherWrapperEl","$b7c37e8f14632f7d$var$convertSecondsToHoursAndMinutes","seconds","date","Date","concat","getHours","getMinutes","addEventListener","event","preventDefault","cityName","searchQuery","target","elements","user_country","value","trim","fetch","then","res","ok","Error","status","json","sys","sunset","temp","toFixed","feels_like","sunrise","innerHTML"],"version":3,"file":"weather.2aad9cf2.js.map"}