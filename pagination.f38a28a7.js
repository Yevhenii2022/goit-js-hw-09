!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},l=n.parcelRequired7c6;null==l&&((l=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var l={id:e,exports:{}};return t[e]=l,n.call(l.exports,l,l.exports),l.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){r[e]=n},n.parcelRequired7c6=l);var i=l("l5bVx"),a=e(l("WMajR")).template({1:function(n,t,r,l,a){var o,u=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,c="function",d=n.escapeExpression,f=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"  <li>\n    <a href='"+d((void 0===(o=null!=(o=f(r,"url")||(null!=t?f(t,"url"):t))?o:s)?"undefined":e(i)(o))===c?o.call(u,{name:"url",hash:{},data:a,loc:{start:{line:3,column:13},end:{line:3,column:20}}}):o)+"' target='_blank' rel='noopener noreferrer'>\n      <article>\n        <img src='"+d((void 0===(o=null!=(o=f(r,"urlToImage")||(null!=t?f(t,"urlToImage"):t))?o:s)?"undefined":e(i)(o))===c?o.call(u,{name:"urlToImage",hash:{},data:a,loc:{start:{line:5,column:18},end:{line:5,column:32}}}):o)+"' alt='' width='480' />\n        <h2>"+d((void 0===(o=null!=(o=f(r,"title")||(null!=t?f(t,"title"):t))?o:s)?"undefined":e(i)(o))===c?o.call(u,{name:"title",hash:{},data:a,loc:{start:{line:6,column:12},end:{line:6,column:21}}}):o)+"</h2>\n        <p>Posted by: "+d((void 0===(o=null!=(o=f(r,"author")||(null!=t?f(t,"author"):t))?o:s)?"undefined":e(i)(o))===c?o.call(u,{name:"author",hash:{},data:a,loc:{start:{line:7,column:22},end:{line:7,column:32}}}):o)+"</p>\n        <p>"+d((void 0===(o=null!=(o=f(r,"description")||(null!=t?f(t,"description"):t))?o:s)?"undefined":e(i)(o))===c?o.call(u,{name:"description",hash:{},data:a,loc:{start:{line:8,column:11},end:{line:8,column:26}}}):o)+"</p>\n      </article>\n    </a>\n  </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,r,l){var i;return null!=(i=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:12,column:9}}}))?i:""},useData:!0}),o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")};var u={};function s(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e,n,t){n&&s(e.prototype,n);t&&s(e,t);return e};var c={headers:{Authorization:"4330ebfabc654a6992c2aa792f3173a3"}},d=function(){"use strict";function n(){e(o)(this,n),this.searchQuery="",this.page=1}return e(u)(n,[{key:"fetchArticles",value:function(){var e=this,n="".concat("https://newsapi.org/v2","/everything?q=").concat(this.searchQuery,"&language=en&pageSize=5&page=").concat(this.page);return fetch(n,c).then((function(e){return e.json()})).then((function(n){var t=n.articles;return e.incrementPage(),t}))}},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}]),n}(),f=function(){"use strict";function n(t){var r=t.selector,l=t.hidden,i=void 0!==l&&l;e(o)(this,n),this.refs=this.getRefs(r),i&&this.hide()}return e(u)(n,[{key:"getRefs",value:function(e){var n={};return n.button=document.querySelector(e),n.label=n.button.querySelector(".label"),n.spinner=n.button.querySelector(".spinner"),n}},{key:"enable",value:function(){this.refs.button.disabled=!1,this.refs.label.textContent="Показать ещё",this.refs.spinner.classList.add("is-hidden")}},{key:"disable",value:function(){this.refs.button.disabled=!0,this.refs.label.textContent="Загружаем...",this.refs.spinner.classList.remove("is-hidden")}},{key:"show",value:function(){this.refs.button.classList.remove("is-hidden")}},{key:"hide",value:function(){this.refs.button.classList.add("is-hidden")}}]),n}(),h={searchForm:document.querySelector(".js-search-form"),articlesContainer:document.querySelector(".js-articles-container")},p=new f({selector:'[data-action="load-more"]',hidden:!0}),m=new d;function v(){p.disable(),m.fetchArticles().then((function(e){!function(e){h.articlesContainer.insertAdjacentHTML("beforeend",a(e))}(e),p.enable()}))}h.searchForm.addEventListener("submit",(function(e){if(e.preventDefault(),m.query=e.currentTarget.elements.query.value,""===m.query)return alert("Введи что-то нормальное");p.show(),m.resetPage(),h.articlesContainer.innerHTML="",v()})),p.refs.button.addEventListener("click",v)}();
//# sourceMappingURL=pagination.f38a28a7.js.map
